{"version":3,"sources":["file:///C:/Users/trung/Desktop/Subject/cong-cu-moi-truong-phat-trien-phan-mem/game_doi_khang_multiphayer_socket_cocos_creator_nodejs/assets/DepthMapSetter.ts"],"names":["_decorator","Component","RenderTexture","MeshRenderer","director","ccclass","property","DepthMapSetter","start","material","node","getComponent","sharedMaterial","setProperty","samplerName","renderTexture","window","framebuffer","depthStencilTexture","pass0","passes","bindingIndex","getBinding","bindSampler","root","pipeline","globalDSManager","pointSampler"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,a,OAAAA,a;AAAeC,MAAAA,Y,OAAAA,Y;AAAcC,MAAAA,Q,OAAAA,Q;;;;;;;;;OAC7D;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;gCAGjBO,c,WADZF,OAAO,CAAC,gBAAD,C,UAEHC,QAAQ,CAACJ,aAAD,C,2BAFb,MACaK,cADb,SACoCN,SADpC,CAC8C;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAO1CO,QAAAA,KAAK,GAAG;AACJ,cAAIC,QAAQ,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBR,YAAvB,EAAqCS,cAApD;AACAH,UAAAA,QAAQ,CAACI,WAAT,CAAqB,KAAKC,WAA1B,EAAsC,KAAKC,aAAL,CAAmBC,MAAnB,CAA0BC,WAA1B,CAAsCC,mBAA5E;AACA,cAAIC,KAAK,GAAGV,QAAQ,CAACW,MAAT,CAAgB,CAAhB,CAAZ;AACA,cAAIC,YAAY,GAAGF,KAAK,CAACG,UAAN,CAAiB,KAAKR,WAAtB,CAAnB;AACAK,UAAAA,KAAK,CAACI,WAAN,CAAkBF,YAAlB,EAA+BjB,QAAQ,CAACoB,IAAT,CAAcC,QAAd,CAAuBC,eAAvB,CAAuCC,YAAtE;AACH;;AAbyC,O;;;;;sFAIzCrB,Q;;;;;iBACoB,E","sourcesContent":["import { _decorator, Component, Node, RenderTexture, MeshRenderer, director } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('DepthMapSetter')\r\nexport class DepthMapSetter extends Component {\r\n    @property(RenderTexture)\r\n    renderTexture:RenderTexture;\r\n\r\n    @property\r\n    samplerName:string = '';\r\n\r\n    start() {\r\n        let material = this.node.getComponent(MeshRenderer).sharedMaterial;\r\n        material.setProperty(this.samplerName,this.renderTexture.window.framebuffer.depthStencilTexture);\r\n        let pass0 = material.passes[0];\r\n        let bindingIndex = pass0.getBinding(this.samplerName);\r\n        pass0.bindSampler(bindingIndex,director.root.pipeline.globalDSManager.pointSampler);\r\n    }\r\n}\r\n\r\n"]}